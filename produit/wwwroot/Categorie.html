<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <script src="lib/jquery/jquery.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {

            var listcat = $('#listcat');

            $('#btn').click(function () {
                $.ajax({

                    url: 'api/Catégories',
                    method: 'get',
                    contentType: "application/x-www-form-urlencoded",
                    success: function (data) {
                        console.log(data)
                        listcat.empty();
                        $.each(data, function (index, val) {
                            var id = val.id;
                            var namecategorie = val.nameCatégorie;
                            var imagecategorie = val.imageCatégorie;
                            console.log(namecategorie);
                            listcat.append('<tr><td>' + id + '</td> <td>' + namecategorie + '</td> <td>' + imagecategorie + '</td><td><a href="EditProduit.html" class="btn-success">Edit</a></td></tr>')   
                        });
                    }, error: function (err) {
                        console.log(err)

                    }
                })
            })
        });

    </script>
</head>
<body>
    <div class="container">
        <input type="button" id="btn" class="btn btn-primary" value="get all Catégories" />
        <input type="button" id="btnClear" class="btn btn-primary" value="Clear all Catégories" />
        <a href="AddCategorie.html" class="btn btn-primary">Add Catégorie</a>
    </div>
    <table class="table">
        <thead class="table-dark">
            <tr>
                <th scope="col">id</th>
                <th scope="col">namecategorie</th>
                <th scope="col">imagecategorie</th>
                
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody id="listcat">
        </tbody>
    </table>
</body>
</html>